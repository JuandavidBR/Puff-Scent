{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USUARIO/OneDrive/Escritorio/Puff-Scent/lib/cloudinary.ts"],"sourcesContent":["import { v2 as cloudinary } from \"cloudinary\";\r\n\r\ncloudinary.config({\r\ncloud_name: process.env.CLOUDINARY_NAME,\r\napi_key: process.env.CLOUDINARY_KEY,\r\napi_secret: process.env.CLOUDINARY_SECRET,\r\n});\r\n\r\nexport default cloudinary;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,uMAAU,CAAC,MAAM,CAAC;IAClB,YAAY,QAAQ,GAAG,CAAC,eAAe;IACvC,SAAS,QAAQ,GAAG,CAAC,cAAc;IACnC,YAAY,QAAQ,GAAG,CAAC,iBAAiB;AACzC;uCAEe,uMAAU"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USUARIO/OneDrive/Escritorio/Puff-Scent/app/api/upload/route.ts"],"sourcesContent":["// app/api/upload/route.ts\r\nimport { NextResponse } from \"next/server\";\r\n// Si ya tienes alias \"@\", usa esta:\r\nimport cloudinary from \"@/lib/cloudinary\";\r\n// Si te da error el alias \"@\", cambia la línea de arriba por:\r\n// import cloudinary from \"../../../lib/cloudinary\";\r\n\r\nexport async function POST(req: Request) {\r\ntry {\r\n    const formData = await req.formData();\r\n    const file = formData.get(\"file\") as File | null;\r\n\r\n    if (!file) {\r\n    return NextResponse.json(\r\n        { error: \"No se envió ningún archivo\" },\r\n        { status: 400 }\r\n    );\r\n    }\r\n\r\n    const arrayBuffer = await file.arrayBuffer();\r\n    const buffer = Buffer.from(arrayBuffer);\r\n\r\n    const result: any = await new Promise((resolve, reject) => {\r\n    cloudinary.uploader\r\n        .upload_stream({ folder: \"puff-scent\" }, (error, uploadResult) => {\r\n        if (error) reject(error);\r\n        else resolve(uploadResult);\r\n        })\r\n        .end(buffer);\r\n    });\r\n\r\n    return NextResponse.json({ url: result.secure_url });\r\n} catch (error) {\r\n    console.error(error);\r\n    return NextResponse.json(\r\n    { error: \"Error subiendo la imagen\" },\r\n    { status: 500 }\r\n    );\r\n}\r\n}\r\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAC1B;AACA,oCAAoC;AACpC;;;AAIO,eAAe,KAAK,GAAY;IACvC,IAAI;QACA,MAAM,WAAW,MAAM,IAAI,QAAQ;QACnC,MAAM,OAAO,SAAS,GAAG,CAAC;QAE1B,IAAI,CAAC,MAAM;YACX,OAAO,+QAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAA6B,GACtC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,cAAc,MAAM,KAAK,WAAW;QAC1C,MAAM,SAAS,OAAO,IAAI,CAAC;QAE3B,MAAM,SAAc,MAAM,IAAI,QAAQ,CAAC,SAAS;YAChD,8HAAU,CAAC,QAAQ,CACd,aAAa,CAAC;gBAAE,QAAQ;YAAa,GAAG,CAAC,OAAO;gBACjD,IAAI,OAAO,OAAO;qBACb,QAAQ;YACb,GACC,GAAG,CAAC;QACT;QAEA,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,KAAK,OAAO,UAAU;QAAC;IACtD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,OAAO,+QAAY,CAAC,IAAI,CACxB;YAAE,OAAO;QAA2B,GACpC;YAAE,QAAQ;QAAI;IAElB;AACA"}}]
}